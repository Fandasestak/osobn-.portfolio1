<!doctype html>
  <html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>만sty</title>
    <link rel="shortcut icon" href="fsLogo4.svg" type="image/x-icon">
    <link href='https://cdn.boxicons.com/fonts/brands/boxicons-brands.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  </head>
  <body>
    <div class="app">
      <!-- three-bg je te캞 v pozad칤 (z-index:0) aby canvas nebyl schovan칳 za backgroundem -->
      <div id="three-bg" class="three-wrap" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;pointer-events:none;overflow:hidden;"></div>
      <header>
        <div class="brand">
          <div class="logo-wrap">

            
            <div id="logoHolder" class="logo-scratch" title="Scorpio Holding owner">
              <div id="logoSVGWrap" class="logo-rotate" style="width:72px;height:72px;display:grid;place-items:center">
                <a href="https://sesty.dev"><img src="fsLogo5.svg" alt="Logo" id="sestySVG" style="width:48px;height:48px;user-select:none;pointer-events:none"></a>
              </div>
            </div>
          </div>

          <div class="brand-text">
            <div class="sesty_nadpis">만sty</div>
            <div style="font-size:12px;color:rgba(255,255,255,0.6)">Franti코ek 만st치k</div>
          </div>
        </div>


        <div style="display:flex;gap:10px;align-items:center" class="desktop-nav">
          <nav class="nav">
            
            <a href="#home">Dom콢</a>
            <a href="#aboutme">O mn캩</a>
            <a href="#projects">Projekty</a>
            <a href="#contact">Kontakt</a>
          </nav>
          
        </div>

        <div class="hamburger-button" id="hamburgerButton">
                <span class="hamburger-icon"></span>
            </div>

      </header>

      <nav class="mobile-menu" id="mobileMenu">
        <a href="https://sesty.dev">Dom콢</a>
        <a href="#aboutme">O mn캩</a>
        <a href="#projects">Projekty</a>
        <a href="#contact">Kontakt</a>
      </nav>


      <div class="hscroller" id="scroller" tabindex="0">
        <section class="panel" id="home">
          <div class="card">
            <h1 class="modern">Dom콢</h1>
            <div class="modern_text" style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
               <p class="modern_text">V칤tejte v m칠m portfoliu, v rychlosti se v치m p콏edstav칤m:</p>
            </div>
           
            <div style="margin-top:18px;display:flex;gap:12px;justify-content:center">
              <a class="cta" href="#projects" style="text-decoration:none">Projekty</a>
              <a class="cta" href="#aboutme" style="text-decoration:none"><box-icon name='right-arrow-alt' animation='tada' color='#aa8541' width="100px"></box-icon></a>
            </div>
          </div>
        </section>
</header>
       
        <section class="panel" id="aboutme">
          
          <div class="card">
            <h1 class="modern">O mn캩</h1>
            <div class="modern_text" style="display: flex; justify-content: center; align-items: center;">
               <p class="modern_text">Tak쬰... U캜칤m se programovat a designovat webov칠 str치nky (HTML, CSS, JS), i programovat v 驕됊잹 webov칠 aplikace. Zde je i reference na m칠ho kamar치da <a href="https://skymmel.eu/" style="color: #aa8541">Vojtu Wilhelma Skybu</a>, kter칳 mi s webem pom치hal.</p>
            </div>
            <div class="ref" style="margin-top:18px;display:flex;gap:12px;justify-content:center">
              <button class="cta" onclick="downloadCV()">콯ivotopis (洧릟洧릝洧릟洧릡)</button>
            </div>
          </div>
        </section>

        <section class="panel" id="projects">
          <div class="card">
            <h1 class="modern">Projekty</h1>
            <div style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
              <h2 style="align-items: left; justify-content: left;" class="modern_text">Moje firma</h2>
              <img src="projekt1.png" width="80%" class="obrazek" style="border:5px solid #2362de; border-radius: 10px;">
              <a href="" style="color:#aa8541" >Scorpio.company</a>
            </div>
          </div>
        </section>

        <section class="panel" id="contact">
          <div class="card obrazek">
            <h1 class="modern">Kontaktuj m캩...</h1>
              <div class="social-media" style="display: flex; justify-content: center; align-items: center; gap: 30px; margin-top: 20px; width: 100%;">
                <a href="mailto:frantisek.sestak@tutamail.com" class="la" title="frantisek.sestak@tutamail.com"><box-icon name='gmail' type='logo' animation='tada' color='#aa8541' ></box-icon></a>
                <a href="tel:+420602813911" class="la" title="+420 602 813 911"><box-icon name='phone-call' type='solid' animation='tada' color='#ffffff' ></box-icon></a>
                <a href="https://www.instagram.com/fsestak9" class="la" title="@fsestak9"><box-icon name='instagram' type='logo' color='#aa8541'animation="tada"></box-icon></a>
                <a href="https://github.com/Fandasestak" class="la" title="Github link:"><box-icon name='github' type='logo' color='#ffffff'animation="tada"></box-icon></a>
              </div> 
          </div>
        </section>
      </div>

      
      <div class="blob a"></div>
      <div class="blob b"></div>
    </div>
  <!-- 3D obr치zek reaguj칤c칤 na pohyb my코i -->

  <!-- THREE.js + FontLoader/TextGeometry (r152) -->
  <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r152/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r152/examples/js/loaders/FontLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r152/examples/js/geometries/TextGeometry.js"></script>

  <script>

      document.addEventListener('DOMContentLoaded', () => {
            const hamburgerButton = document.getElementById('hamburgerButton');
            const mobileMenu = document.getElementById('mobileMenu');
            
            // Z칤sk치me odkazy uvnit콏 mobiln칤ho menu pro automatick칠 zav콏en칤
            const mobileMenuLinks = mobileMenu ? mobileMenu.querySelectorAll('a') : [];

            function toggleMenu() {
                if (!hamburgerButton || !mobileMenu) return;

                // P콏ep칤n치 t콏칤du 'open' (pro animaci X)
                hamburgerButton.classList.toggle('open');
                // P콏ep칤n치 t콏칤du 'open' (pro vysunut칤/zasunut칤 menu)
                mobileMenu.classList.toggle('open');
                
                // Zabr치n칤 scrollov치n칤 str치nky pod menu
                document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
            }

            // 1. P콏id치n칤 poslucha캜e na kliknut칤 pro hamburger tla캜칤tko
            if (hamburgerButton) {
                hamburgerButton.addEventListener('click', toggleMenu);
            }

            // 2. Zav콏en칤 menu po kliknut칤 na odkaz
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    setTimeout(() => {
                        if (mobileMenu.classList.contains('open')) {
                            toggleMenu(); 
                        }
                    }, 200); 
                });
            });
        });





      // 1) Vertical wheel -> horizontal scroll mapping (desktop)
      const scroller = document.getElementById('scroller');


      // Desktop & touchpad: wheel/touchpad scroll posune p콏esn캩 o jeden panel na gesto
      let wheelLock = false;
      let wheelAccum = 0; // akumul치tor deltaY
      let wheelTimer = null;
      const WHEEL_THRESHOLD = 80; // pr치h pro vyvol치n칤 posunu (ni쮄뫆 pro citliv칠 touchpady)

      scroller.addEventListener('wheel', (e) => {
        if (Math.abs(e.deltaY) < Math.abs(e.deltaX)) return; // ignoruj horizont치ln칤
        e.preventDefault();
        // pokud je zam캜eno, ignoruj
        if (wheelLock) return;

        // akumuluj a 캜ekej kr치tce na konec gesture
        wheelAccum += e.deltaY;
        clearTimeout(wheelTimer);
        wheelTimer = setTimeout(() => {
          // rozhodneme podle sm캩ru akumul치toru
          if (Math.abs(wheelAccum) >= WHEEL_THRESHOLD) {
            wheelLock = true;
            if (wheelAccum > 0) scroller.scrollBy({left: scroller.clientWidth, behavior: 'smooth'});
            else scroller.scrollBy({left: -scroller.clientWidth, behavior: 'smooth'});
            // uvolnit z치mek po animaci
            setTimeout(() => { wheelLock = false; }, 100);
          }
          wheelAccum = 0;
        }, 10); // 120ms debounce pro touchpad gesture
      }, {passive:false});

      // 2) Mobile: swipe/scroll always moves by one panel right
      let touchStartX = 0;
      let touchStartY = 0;
      let touchMoved = false;
      scroller.addEventListener('touchstart', function(e) {
        if (e.touches.length === 1) {
          touchStartX = e.touches[0].clientX;
          touchStartY = e.touches[0].clientY;
          touchMoved = false;
        }
      });
      scroller.addEventListener('touchmove', function(e) {
        touchMoved = true;
      });
      scroller.addEventListener('touchend', function(e) {
        if (!touchMoved) return;
        // Always scroll by one panel right regardless of swipe size
        scroller.scrollBy({left: scroller.clientWidth, behavior: 'smooth'});
      });

      // keyboard navigation
      window.addEventListener('keydown', (e)=>{ if(e.key==='ArrowRight') scroller.scrollBy({left: scroller.clientWidth, behavior:'smooth'}); if(e.key==='ArrowLeft') scroller.scrollBy({left:-scroller.clientWidth, behavior:'smooth'}) });
      function scrollNext(){ scroller.scrollBy({left: scroller.clientWidth, behavior: 'smooth'}) }
      window.scrollNext = scrollNext;

      function downloadCV() {
    const link = document.createElement('a');
    link.href = 'zivotopis.pdf'; // n치zev a cesta k tv칠mu PDF
    link.download = '콯ivotopis';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
  window.downloadCV = downloadCV;
      
      // 3D text 'F' - responsivn캩 (zapnuto i na men코칤ch obrazovk치ch)
      (function initThreeText() {
        const MIN_WIDTH = 1025; // 3D se zobraz칤 pouze p콏i 코칤콏ce okna 1025px a v칤ce
        if (window.innerWidth < MIN_WIDTH) return;

        const threeBg = document.getElementById('three-bg');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({alpha: true, antialias: true});
        renderer.setPixelRatio(window.devicePixelRatio || 1);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.domElement.style.pointerEvents = 'none';
        renderer.domElement.style.position = 'fixed';
        renderer.domElement.style.top = '0';
        renderer.domElement.style.left = '0';
        renderer.domElement.style.zIndex = '0'; // zajist칤, 쬰 canvas nen칤 schovan칳 za backgroundem
        threeBg.appendChild(renderer.domElement);
 
        // lights
        const hemi = new THREE.HemisphereLight(0xffffff, 0x222222, 1.2);
        scene.add(hemi);
        const dir = new THREE.DirectionalLight(0xffffff, 0.8);
        dir.position.set(5, 10, 7);
        scene.add(dir);

        // responsivn칤 velikost textu podle 코칤콏ky okna
        let baseSize = Math.max(8, Math.min(18, window.innerWidth / 120));
        camera.position.z = baseSize * 2.8;

        const loader = new THREE.FontLoader();
        loader.load('https://cdn.jsdelivr.net/gh/mrdoob/three.js@r152/examples/fonts/helvetiker_bold.typeface.json', function (font) {
          let geom = new THREE.TextGeometry('F', {
            font: font,
            size: baseSize,
            height: baseSize * 0.15,
            curveSegments: 8,
            bevelEnabled: true,
            bevelThickness: baseSize * 0.05,
            bevelSize: baseSize * 0.03,
            bevelSegments: 4
          });
          geom.center();
          // kontrastn칤 barva aby byl text dob콏e vid캩t na tmav칠m pozad칤
          const mat = new THREE.MeshStandardMaterial({color: 0xaa8541, metalness: 0.9, roughness: 0.15});
          const mesh = new THREE.Mesh(geom, mat);
          scene.add(mesh);

          // --- add a torus-knot as a 3D object beside the text ---
          const torusGeo = new THREE.TorusKnotGeometry(baseSize * 0.7, baseSize * 0.18, 160, 32);
          const torusMat = new THREE.MeshStandardMaterial({
            color: 0x3b82f6,
            metalness: 0.7,
            roughness: 0.12,
            emissive: 0x002244,
            emissiveIntensity: 0.08,
          });
          const torus = new THREE.Mesh(torusGeo, torusMat);
          // position it slightly to the right and a bit closer
          torus.position.x = baseSize * 1.6;
          torus.position.z = 0.2;
          torus.position.y = -baseSize * 0.08;
          torus.scale.set(1,1,1);
          scene.add(torus);

          console.log('three-text initialized'); // jednoduch칳 debug

          // mouse react and simple orbital movement for both meshes
          let targetRotX = 0, targetRotY = 0;
          document.addEventListener('mousemove', (e) => {
            const nx = (e.clientX / window.innerWidth) * 2 - 1;
            const ny = (e.clientY / window.innerHeight) * 2 - 1;
            targetRotY = nx * 0.6;
            targetRotX = ny * 0.25;
          });

          let t = 0;
          function animate3() {
            requestAnimationFrame(animate3);
            t += 0.01;
            // smooth follow of mouse
            mesh.rotation.y += (targetRotY - mesh.rotation.y) * 0.08;
            mesh.rotation.x += (targetRotX - mesh.rotation.x) * 0.08;
            // torus: rotate and float
            torus.rotation.x += 0.01;
            torus.rotation.y += 0.018;
            torus.position.y = Math.sin(t * 0.9) * (baseSize * 0.06);
            torus.position.x = baseSize * 1.6 + Math.sin(t * 0.6) * (baseSize * 0.08);

            renderer.render(scene, camera);
          }
          animate3();

          // resize: p콏e코k치lov치n칤 textu a kamera
          function onResize() {
            const w = window.innerWidth;
            const h = window.innerHeight;
            renderer.setSize(w, h);
            camera.aspect = w / h;
            camera.updateProjectionMatrix();

            const newSize = Math.max(8, Math.min(18, w / 120));
            const scale = newSize / baseSize;
            mesh.scale.set(scale, scale, scale);
            // adjust torus size/position consistently
            torus.scale.set(scale, scale, scale);
            torus.position.x = newSize * 1.6;
            camera.position.z = newSize * 2.8;
          }
          window.addEventListener('resize', onResize);
        });
      })();
      
      </script>
  </body>
  </html>
