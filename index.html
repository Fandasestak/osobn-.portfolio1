<!doctype html>
  <html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>≈†esty</title>
    <link rel="shortcut icon" href="fsLogo4.svg" type="image/x-icon">
    <link href='https://cdn.boxicons.com/fonts/brands/boxicons-brands.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  </head>
  <body>
    <div class="app">
      <!-- three-bg je teƒè v pop≈ôed√≠ s vy≈°≈°√≠m z-indexem -->
      <div id="three-bg" class="three-wrap" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:10;pointer-events:none;overflow:hidden;"></div>
      <header>
        <div class="brand">
          <div class="logo-wrap">

            
            <div id="logoHolder" class="logo-scratch" title="Scorpio Holding owner">
              <div id="logoSVGWrap" class="logo-rotate" style="width:72px;height:72px;display:grid;place-items:center">
                <a href="https://sesty.dev"><img src="fsLogo10.svg" alt="Logo" id="sestySVG" style="width:48px;height:48px;user-select:none;pointer-events:none"></a>
              </div>
            </div>
          </div>

          <div class="brand-text">
            <div class="sesty_nadpis">≈†esty</div>
            <div style="font-size:12px;color: #ccccccff; cursor:default;">Franti≈°ek ≈†est√°k</div>
          </div>
        </div>


        <div style="display:flex;gap:10px;align-items:center" class="desktop-nav">
          <nav class="nav">
            
            <a href="#home">Dom≈Ø</a>
            <a href="#aboutme">O mnƒõ</a>
            <a href="#projects">Projekty</a>
            <a href="#contact">Kontakt</a>
          </nav>
          
        </div>

        <div class="hamburger-button" id="hamburgerButton">
                <span class="hamburger-icon"></span>
            </div>

      </header>

      <nav class="mobile-menu" id="mobileMenu">
        <a href="https://sesty.dev" class="navs">Dom≈Ø</a>
        <a href="#aboutme">O mnƒõ</a>
        <a href="#projects">Projekty</a>
        <a href="#contact">Kontakt</a>
      </nav>


      <div class="hscroller" id="scroller" tabindex="0">
        <section class="panel" id="home">
          <div class="card">
            <h1 class="modern">Dom≈Ø</h1>
            <div class="modern_text" style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
               <p class="modern_text">V√≠tejte v m√©m portfoliu, v rychlosti se v√°m p≈ôedstav√≠m:</p>
            </div>
           
            <div style="margin-top:18px;display:flex;gap:12px;justify-content:center">
              <a class="cta" href="#projects" style="text-decoration:none; color: #ccccccff;">Projekty</a>
              <a class="cta" href="#aboutme" style="text-decoration:none">-></a>
            </div>
          </div>
        </section>
</header>
       
        <section class="panel" id="aboutme">
          
          <div class="card">
            <h1 class="modern">O mnƒõ</h1>
            <div class="modern_text" style="display: flex; justify-content: center; align-items: center;">
               <p class="modern_text">Tak≈æe... m√° profese se zamƒõ≈ôuje na programov√°n√≠ a design web. str√°nky/aplikace. Zde je reference na m√©ho kamar√°da <a href="https://skymmel.eu/" style="color: #ccccccff; text-decoration: none; cursor: pointer;" class="vojta">Vojtƒõcha Wilhelma Skybu.</a></p>
            </div>
            <div class="ref" style="margin-top:18px;display:flex;gap:12px;justify-content:center">
              <button class="cta" onclick="downloadCV()">≈Ωivotopis (ùüêùüéùüêùüì)</button>
            </div>
          </div>
        </section>

        <section class="panel" id="projects">
          <div class="card">
            <h1 class="modern">Projekty</h1>
            <div style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
              <img src="projekt1.png" width="80%" class="obrazek" style="border-radius: 10px;">
              <a href="#" class="scorpio_odkaz" >Scorpio.company</a>
            </div>
          </div>
        </section>

        <section class="panel" id="contact">
          <div class="card obrazek">
            <h1 class="modern">Kontaktuj mƒõ...</h1>
              <div class="social-media" style="display: flex; justify-content: center; align-items: center; gap: 30px; margin: 20px 10px; width: 100%; flex-wrap: wrap;">
                <a href="mailto:frantisek.sestak@tutamail.com" class="la" title="frantisek.sestak@tutamail.com"><box-icon name='gmail' type='logo'  color='#ccccccff' ></box-icon></a>
                <a href="tel:+420602813911" class="la" title="+420 602 813 911"><box-icon name='phone-call' type='solid'  color='#ccccccff' ></box-icon></a>
                <a href="https://www.instagram.com/fsestak9" class="la" title="@fsestak9"><box-icon name='instagram' type='logo' color='#ccccccff'></box-icon></a>
                <a href="https://github.com/Fandasestak" class="la" title="Github link:"><box-icon name='github' type='logo' color='#ccccccff'></box-icon></a>
              </div> 
          </div>
        </section>
      </div>
      
      <div class="blob a"></div>
      <div class="blob b"></div>
    </div>
    <script>
    // === MOBILN√ç MENU ===
document.addEventListener('DOMContentLoaded', () => {
  const hamburgerButton = document.getElementById('hamburgerButton');
  const mobileMenu = document.getElementById('mobileMenu');
  const mobileMenuLinks = mobileMenu ? mobileMenu.querySelectorAll('a') : [];

  function toggleMenu() {
    if (!hamburgerButton || !mobileMenu) return;
    hamburgerButton.classList.toggle('open');
    mobileMenu.classList.toggle('open');
    document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
  }

  if (hamburgerButton) {
    hamburgerButton.addEventListener('click', toggleMenu);
  }

  mobileMenuLinks.forEach(link => {
    link.addEventListener('click', () => {
      setTimeout(() => {
        if (mobileMenu.classList.contains('open')) toggleMenu();
      }, 200);
    });
  });
});


// horizont√°ln√≠ scroll + kl√°vesy
const scroller = document.getElementById('scroller');
let wheelLock = false, wheelAccum = 0, wheelTimer = null;
const WHEEL_THRESHOLD = 80;
const panelCount = document.querySelectorAll('.panel').length;

scroller.addEventListener('wheel', (e) => {
  if (Math.abs(e.deltaY) < Math.abs(e.deltaX)) return;
  e.preventDefault();
  if (wheelLock) return;

  wheelAccum += e.deltaY;
  clearTimeout(wheelTimer);
  wheelTimer = setTimeout(() => {
    if (Math.abs(wheelAccum) >= WHEEL_THRESHOLD) {
      wheelLock = true;
      const currentPanel = Math.round(scroller.scrollLeft / scroller.clientWidth);
      const isFirstPanel = currentPanel <= 0;
      const isLastPanel = currentPanel >= panelCount - 1;
      if (wheelAccum < 0 && !isFirstPanel) {
        scroller.scrollBy({left: -scroller.clientWidth, behavior: 'smooth'});
      } else if (wheelAccum > 0 && !isLastPanel) {
        scroller.scrollBy({left: scroller.clientWidth, behavior: 'smooth'});
      }
      setTimeout(() => { wheelLock = false; }, 100);
    }
    wheelAccum = 0;
  }, 10);
}, {passive:false});


function scrollNext(){ scroller.scrollBy({left: scroller.clientWidth, behavior: 'smooth'}) }
window.scrollNext = scrollNext;


// Funkce pro st√°hnut√≠ PDF
function downloadCV() {
  const link = document.createElement('a');
  link.href = 'zivotopis.pdf';
  link.download = '≈Ωivotopis';
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}
window.downloadCV = downloadCV;


// === 3D POZAD√ç THREE.JS ===
(function createBackground() {
  if (window.innerWidth < 1025) {
    const container = document.getElementById('three-bg');
    if (container) container.style.display = 'none';
    return;
  }

  const container = document.getElementById('three-bg');
  if (container) container.style.display = 'block';
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  
  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setPixelRatio(window.devicePixelRatio);
  container.appendChild(renderer.domElement);

  // Svƒõtla
  scene.add(new THREE.AmbientLight(0xffffff, 1.0));
  const dirLight = new THREE.DirectionalLight(0xffffff, 1.0);
  dirLight.position.set(1,1,1);
  scene.add(dirLight);

  // ƒå√°stice p√≠smena F
  const particles = [];
  const particleCount = 1500;
  const colors = [0xffffff, 0x3b82f6, 0xaa8541];

  function generateLetterPoints() {
    const points = [];
    const letterHeight = 10.0;
    const letterWidth = 5.0;
    const thickness = 1;
    for(let y=-letterHeight/2;y<=letterHeight/2;y+=0.05){
      for(let x=-thickness/2;x<=thickness/2;x+=0.05){
        points.push([x,y,0]);
      }
    }
    for(let x=-thickness/2;x<=letterWidth;x+=0.05){
      for(let y=letterHeight/2-thickness/2;y<=letterHeight/2+thickness/2;y+=0.05){
        points.push([x,y,0]);
      }
    }
    for(let x=-thickness/2;x<=letterWidth*0.7;x+=0.05){
      for(let y=-thickness/2;y<=thickness/2;y+=0.05){
        points.push([x,y,0]);
      }
    }
    return points;
  }

  const letterPoints = generateLetterPoints();
  const geometry = new THREE.SphereGeometry(0.03, 32, 32);
  for (let i = 0; i < particleCount; i++) {
    const material = new THREE.MeshPhongMaterial({
      color: colors[Math.floor(Math.random() * colors.length)],
      shininess: 250,
      emissive: colors[Math.floor(Math.random() * colors.length)],
      emissiveIntensity: 0.3
    });
    const particle = new THREE.Mesh(geometry, material);
    particle.position.set(Math.random()*20-10, Math.random()*20-10, Math.random()*10-5);
    const targetPoint = letterPoints[i % letterPoints.length];
    particle.targetPosition = new THREE.Vector3(...targetPoint);
    particle.originalPosition = particle.position.clone();
    particle.velocity = new THREE.Vector3(
      (Math.random()-0.5)*0.05,
      (Math.random()-0.5)*0.05,
      (Math.random()-0.5)*0.05
    );
    particles.push(particle);
    scene.add(particle);
  }

  camera.position.z = 10;
  let isMouseMoving = false, mouseTimer, transitionProgress = 0;

  // ƒåern√° koule pro sluƒçov√°n√≠
  const dotGeometry = new THREE.SphereGeometry(0.2, 32, 32);
  const dotMaterial = new THREE.MeshBasicMaterial({ color: 0x2362de });
  const dot = new THREE.Mesh(dotGeometry, dotMaterial);
  dot.visible = false;
  scene.add(dot);

  let mouseX = 0, mouseY = 0, mouse3D = new THREE.Vector3(), merged = false;

  document.addEventListener('mousemove', (event) => {
    mouseX = (event.clientX / window.innerWidth) * 2 - 1;
    mouseY = -(event.clientY / window.innerHeight) * 2 + 1;

    const vector = new THREE.Vector3(mouseX, mouseY, 0.5);
    vector.unproject(camera);
    const dir = vector.sub(camera.position).normalize();
    const distance = -camera.position.z / dir.z;
    mouse3D = camera.position.clone().add(dir.multiplyScalar(distance));

    merged = true;
    dot.visible = true;
    dot.position.copy(mouse3D);

    clearTimeout(mouseTimer);
    mouseTimer = setTimeout(() => {
      merged = false;
      dot.visible = false;
    }, 1000);

    camera.position.x += (mouseX * 2 - camera.position.x) * 0.05;
    camera.position.y += (mouseY * 2 - camera.position.y) * 0.05;
    camera.lookAt(scene.position);
  });

  function animate() {
    requestAnimationFrame(animate);

    if (isMouseMoving && transitionProgress < 1) transitionProgress = Math.min(1, transitionProgress + 0.02);
    else if (!isMouseMoving && transitionProgress > 0) transitionProgress = Math.max(0, transitionProgress - 0.01);

    particles.forEach(p => {
      if (merged) {
        p.position.lerp(mouse3D, 0.1);
      } else if (isMouseMoving) {
        p.position.lerp(p.targetPosition, transitionProgress * 0.1);
        p.rotation.x += 0.005;
        p.rotation.y += 0.005;
      } else {
        if (transitionProgress < 0.3) {
          p.position.add(p.velocity);
          p.velocity.add(new THREE.Vector3(
            (Math.random()-0.5)*0.01,
            (Math.random()-0.5)*0.01,
            (Math.random()-0.5)*0.01
          ));
          p.velocity.multiplyScalar(0.99);
          p.rotation.x += p.velocity.length() * 0.2;
          p.rotation.y += p.velocity.length() * 0.2;
        }
      }
    });

    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
})();


// === MOBILN√ç GESTA: dol≈Ø ‚Üí vlevo, nahoru ‚Üí vpravo ===
let startY = 0;
let endY = 0;
document.addEventListener('touchstart', (e) => {
  startY = e.touches[0].clientY;
});
document.addEventListener('touchend', (e) => {
  endY = e.changedTouches[0].clientY;
  const diffY = startY - endY;
  const threshold = 50;
  if (Math.abs(diffY) > threshold) {
    if (diffY > 0) {
      scroller.scrollBy({ left: scroller.clientWidth, behavior: 'smooth' }); // nahoru -> vpravo
    } else {
      scroller.scrollBy({ left: -scroller.clientWidth, behavior: 'smooth' }); // dol≈Ø -> vlevo
    }
  }
});
      </script>
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  </body>
  </html>
