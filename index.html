<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#030508" />
  <title>Šesty | Design & Vývoj</title>

  <meta name="description" content="Šesty – Profesionální web design a vývoj. Tvořím digitální ekosystémy a vizuální identity. Prohlédněte si mé projekty." />
  <meta name="keywords" content="Šesty, sesty, Acnod, web design, vývoj webů, portfolio, UI/UX" />
  <meta name="author" content="Šesty" />
  <meta name="robots" content="index, follow" />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sesty.dev" />
  <meta property="og:title" content="Šesty | Design & Vývoj" />
  <meta property="og:description" content="Digitální vize, které mění trh. Strategický design a precizní inženýrství." />
  <meta property="twitter:card" content="summary_large_image" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link id="favicon" rel="icon" type="svg">
  <script src="favicon.js" async></script>

  <style>

    :root {
      --bg: #030508;
      --accent: #02ffb4;
      --accent-soft: rgba(2, 255, 180, 0.1);
      --text: #ffffff;
      --text-muted: #94a3b8;
      --glass: rgba(255, 255, 255, 0.03);
      --border: rgba(255, 255, 255, 0.08);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    *:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 4px;
    }

    html, body {
      overscroll-behavior-y: none;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Montserrat', sans-serif;
      perspective: 1500px;
      -webkit-font-smoothing: antialiased;
      transition: background 0.5s;
    }

    /* --- HORIZONTÁLNÍ PROGRESS BAR --- */
    .progress-container {
      position: fixed; top: 90px; left: 60px; width: calc(100% - 120px); height: 2px;
      background: var(--border); z-index: 1001;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .progress-bar { height: 100%; width: 25%; background: var(--accent); box-shadow: 0 0 15px var(--accent); transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1); }

    /* --- VERTIKÁLNÍ PROGRESS BAR (Portfolio) --- */
    .vertical-progress-container {
      position: fixed; top: 50%; right: 30px; transform: translateY(-50%);
      width: 2px; height: 60vh; background: var(--border); z-index: 2005;
      opacity: 0; pointer-events: none; transition: opacity 0.5s ease;
    }
    .vertical-progress-bar {
      width: 100%; height: 0%; background: var(--accent);
      box-shadow: 0 0 15px var(--accent);
      transition: height 0.1s linear;
    }

    /* --- TLAČÍTKO ZPĚT --- */
    .back-btn {
      position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%) translateY(100px);
      padding: 12px 30px; background: var(--accent); color: #000;
      font-weight: 800; text-transform: uppercase; border-radius: 50px;
      text-decoration: none; z-index: 2010; cursor: pointer; border: none;
      box-shadow: 0 0 20px var(--accent-soft);
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease;
      opacity: 0; pointer-events: none;
    }
    .back-btn:hover {
      box-shadow: 0 0 40px var(--accent);
      transform: translateX(-50%) translateY(0) scale(1.1);
    }

    /* --- LANG SWITCH --- */
    .lang-switch {
      position: fixed; top: 105px; right: 60px; display: flex; gap: 12px;
      z-index: 2100;
      transition: opacity 0.5s;
    }
    .lang-btn { background: none; border: none; color: var(--text-muted); font-size: 0.7rem; font-weight: 800; cursor: pointer; transition: 0.3s; letter-spacing: 1.5px; }
    .lang-btn.active { color: var(--accent); }

    /* --- 3D SCENE --- */
    .canvas-3d { position: fixed; inset: 0; z-index: 1; pointer-events: none; transition: opacity 0.5s; }
    .scene { width: 100%; height: 100%; transform-style: preserve-3d; will-change: transform; }
    .grid-plane {
      position: absolute; top: 50%; left: 50%; width: 300vw; height: 300vh;
      background-image: linear-gradient(var(--border) 1px, transparent 1px), linear-gradient(90deg, var(--border) 1px, transparent 1px);
      background-size: 80px 80px; transform: translate(-50%, -50%) rotateX(90deg) translateZ(-600px);
      mask-image: radial-gradient(circle, black, transparent 75%);
    }

    /* --- NAVIGATION --- */
    header { position: fixed; top: 0; width: 100%; padding: 30px 60px; display: flex; justify-content: space-between; align-items: center; z-index: 1100; transition: transform 0.5s; }
    .brand { display: flex; align-items: center; gap: 15px; text-decoration: none; color: white; }
    .logo-svg { width: 40px; height: 40px; transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .brand:hover .logo-svg { transform: rotate(-60deg); }
    .brand-text .name { font-weight: 800; font-size: 1.2rem; display: block; }
    .brand-text .tagline { font-size: 0.7rem; color: var(--accent); text-transform: uppercase; letter-spacing: 2px; }

    nav a { margin-left: 35px; color: var(--text-muted); text-decoration: none; font-size: 0.85rem; font-weight: 600; text-transform: uppercase; position: relative; transition: color 0.3s; }
    nav a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background: var(--accent); transition: width 0.4s; }
    nav a:hover::after { width: 100%; }
    nav a:hover { color: var(--accent); }

    /* --- MAIN SCROLL --- */
    .main-container {
      display: flex; flex-direction: row; height: 100vh; width: 100vw;
      overflow-x: auto; overflow-y: hidden; scroll-snap-type: x mandatory; scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch; scrollbar-width: none;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .main-container::-webkit-scrollbar { display: none; }

    .section { min-width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; scroll-snap-align: center; scroll-snap-stop: always; }

    .glass-card {
      background: var(--glass); backdrop-filter: blur(25px); border: 1px solid var(--border);
      padding: clamp(30px, 5vw, 60px); border-radius: 40px; max-width: 850px; position: relative;
      will-change: transform; transform-style: preserve-3d; box-shadow: 0 40px 100px rgba(0,0,0,0.4);
    }

    .badge { display: inline-block; padding: 6px 14px; background: var(--accent-soft); color: var(--accent); border-radius: 100px; font-size: 0.75rem; font-weight: 700; margin-bottom: 25px; text-transform: uppercase; }
    h1, h2 { font-size: clamp(2.2rem, 5vw, 4.2rem); font-weight: 800; line-height: 1.1; margin-bottom: 25px; color: white; }
    p { font-size: 1.1rem; color: var(--text-muted); line-height: 1.7; margin-bottom: 35px; max-width: 600px; }

    .cta-button { color: var(--accent); text-decoration: none; text-transform: uppercase; font-weight: 700; position: relative; transition: 0.3s; cursor: pointer; }
    .cta-button::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px; background: var(--accent); transition: width 0.4s; }
    .cta-button:hover::after { width: 100%; }
    .counter { position: absolute; bottom: 40px; right: 40px; font-size: 4rem; font-weight: 900; color: rgba(255,255,255,0.03); }

    /* --- PORTFOLIO LAYER --- */
    #portfolio-layer {
      position: fixed; inset: 0; z-index: 2000;
      background: var(--bg);
      overflow-y: auto; overflow-x: hidden;
      opacity: 0; pointer-events: none;
      transition: opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1);
      padding: 120px 60px 120px 60px;
      scrollbar-width: none;
    }
    #portfolio-layer::-webkit-scrollbar { display: none; }

    .portfolio-header {
      text-align: center; margin-bottom: 80px; max-width: 1000px; margin-left: auto; margin-right: auto;
    }

    .github-btn {
      display: inline-flex; justify-content: center; align-items: center;
      margin-top: 15px; color: var(--text-muted); transition: all 0.3s ease;
    }
    .github-btn svg { width: 40px; height: 40px; fill: currentColor; }
    .github-btn:hover { color: var(--accent); transform: scale(1.1) rotate(5deg); filter: drop-shadow(0 0 8px var(--accent)); }

    .portfolio-grid {
      max-width: 1400px; margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 50px;
    }

    .project-item {
      background: rgba(255,255,255,0.02); border: 1px solid var(--border);
      border-radius: 20px; padding: 40px;
      transition: 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
      display: flex; flex-direction: column; position: relative; overflow: hidden;
      height: 100%;
    }
    .project-item:hover { transform: translateY(-10px); border-color: var(--accent); box-shadow: 0 20px 40px rgba(0,0,0,0.4); }

    .project-img {
      width: 100%; aspect-ratio: 16/9; background: #0a0a0a; border-radius: 12px; margin-bottom: 30px; overflow: hidden; position: relative;
    }
    .project-img img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s; }
    .project-item:hover .project-img img { transform: scale(1.05); }

    .project-title { font-size: 1.8rem; font-weight: 700; margin-bottom: 10px; color: white; letter-spacing: -0.5px; }
    .project-desc { color: var(--text-muted); font-size: 1rem; margin-bottom: 25px; line-height: 1.6; flex-grow: 1; }

    .project-link {
      display: inline-block;
      font-weight: 700;
      color: var(--text-muted);
      text-decoration: none;
      font-size: 1.1rem; position: relative; width: fit-content;
      margin-top: auto;
    }
    .project-link::after {
      content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 2px;
      background: var(--accent); transition: width 0.4s ease;
    }
    .project-link:hover::after { width: 100%; }
    .project-link:hover { color: var(--accent); }

    .project-item.placeholder {
      border: 1px dashed rgba(255,255,255,0.15);
      background: transparent;
    }
    .project-item.placeholder:hover {
      border-color: var(--accent);
      border-style: solid;
      background: rgba(2, 255, 180, 0.02);
    }

    .placeholder-content {
      display: flex; flex-direction: column;
      height: 100%;
    }

    .placeholder-visual {
      width: 100%; aspect-ratio: 16/9;
      background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, transparent 100%);
      border-radius: 12px; margin-bottom: 30px;
      display: flex; align-items: center; justify-content: center;
      position: relative;
    }
    .placeholder-visual svg { width: 40px; height: 40px; opacity: 0.3; }

    @keyframes pulse-arrow {
      0% { transform: translateX(0); opacity: 0.4; }
      50% { transform: translateX(10px); opacity: 1; color: var(--accent); }
      100% { transform: translateX(0); opacity: 0.4; }
    }

    .placeholder-arrow {
      position: absolute; left: 4px; bottom: 90px;
      font-size: 1.5rem; color: var(--text-muted); font-weight: 300;
      animation: pulse-arrow 2s infinite ease-in-out;
    }

    .placeholder-text {
      flex-grow: 1; display: flex; flex-direction: column;
    }
    .placeholder-text h3 { font-size: 1.8rem; font-weight: 700; color: white; margin-bottom: 10px; letter-spacing: -0.5px; }
    .placeholder-text p { font-size: 1rem; color: var(--text-muted); margin: 0; line-height: 1.6; }

    /* --- STAVY --- */
    body.portfolio-open .main-container { opacity: 0; transform: scale(0.95); pointer-events: none; }
    body.portfolio-open .progress-container { opacity: 0; transform: translateY(-20px); }
    body.portfolio-open .canvas-3d { opacity: 0.2; }
    body.portfolio-open #portfolio-layer { opacity: 1; pointer-events: all; }
    body.portfolio-open .vertical-progress-container { opacity: 1; }
    body.portfolio-open .back-btn { opacity: 1; pointer-events: all; transform: translateX(-50%) translateY(0); }

    /* --- HAMBURGER --- */
    .menu-toggle { display: none; flex-direction: column; gap: 6px; cursor: pointer; z-index: 1200; width: 30px; background: transparent; border: none; padding: 0; }
    .menu-toggle span { width: 100%; height: 2px; background: white; transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1); transform-origin: center; display: block; }
    .menu-toggle span:nth-child(2) { background: var(--accent); width: 70%; margin-left: auto; margin-right: auto; }
    .menu-toggle.open span:nth-child(1) { transform: translateY(8px) rotate(45deg); }
    .menu-toggle.open span:nth-child(2) { opacity: 0; transform: translateX(-20px); }
    .menu-toggle.open span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

    /* --- MEDIA QUERIES --- */
    @media (max-width: 768px) {
      header { padding: 20px; }
      .progress-container { top: auto; bottom: 80px; left: 20px; width: calc(100% - 40px); }
      .vertical-progress-container { height: 40vh; right: 8px; }

      .lang-switch { top: auto; bottom: 40px; left: 20px; right: auto; z-index: 2100; }

      .menu-toggle { display: flex; }
      nav { position: fixed; inset: 0; background: var(--bg); transform: translateX(100%); display: flex; flex-direction: column; justify-content: center; align-items: center; transition: 0.5s; z-index: 1100; }
      nav.open { transform: translateX(0); }
      nav a { margin: 20px 0; font-size: 1.8rem; font-weight: 800; }

      .glass-card { padding: 30px; margin: 0 20px; border-radius: 25px; transform: none !important; }
      .counter { display: none; }

      #portfolio-layer { padding: 100px 20px 100px 20px; }
      .portfolio-grid { grid-template-columns: 1fr; gap: 30px; }
      .back-btn { bottom: 30px; padding: 10px 25px; font-size: 0.8rem; }

      .project-item { padding: 25px; }
      .project-title, .placeholder-text h3 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>

<div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

<div class="vertical-progress-container">
  <div class="vertical-progress-bar" id="verticalProgressBar"></div>
</div>

<button class="back-btn" id="backBtn" data-key="btn-back">Vrátit zpět</button>

<div class="canvas-3d" aria-hidden="true"><div class="scene" id="scene"><div class="grid-plane"></div></div></div>

<header>
  <a href="#home" class="brand" aria-label="Domů - Šesty Portfolio">
    <div class="logo-svg">
      <svg viewBox="0 0 4500 4500" aria-hidden="true" focusable="false"><path d="M1429.687,3259.243c-742.688,0 -1345.657,-602.969 -1345.657,-1345.657l1345.657,1345.657Z" fill="#fff"/><path d="M2775.344,1913.586c0,742.688 -602.969,1345.657 -1345.657,1345.657l1345.657,-1345.657Z" fill="#fff"/><path d="M3064.064,1240.757c742.688,0 1345.657,602.969 1345.657,1345.657l-1345.657,-1345.657Z" fill="#fff"/><path d="M1718.407,2586.414c0,-742.688 602.969,-1345.657 1345.657,-1345.657l-1345.657,1345.657Z" fill="#fff"/></svg>
    </div>
    <div class="brand-text">
      <span class="name">ŠESTY</span>
      <span class="tagline" data-key="brand-tagline">Design & vývoj</span>
    </div>
  </a>

  <button class="menu-toggle" id="menuToggle" aria-label="Otevřít menu" aria-expanded="false" aria-controls="navMenu">
    <span></span><span></span><span></span>
  </button>

  <nav id="navMenu" aria-label="Hlavní navigace">
    <a href="#about" data-key="nav-services">Služby</a>
    <a href="#projects" data-key="nav-work">Portfolio</a>
    <a href="#contact" data-key="nav-contact">Kontakt</a>
  </nav>

  <div class="lang-switch">
    <button class="lang-btn active" id="btn-cz" onclick="setLang('cz')">CZ</button>
    <button class="lang-btn" id="btn-en" onclick="setLang('en')">EN</button>
  </div>
</header>

<main class="main-container" id="scroller">
  <section class="section" id="home">
    <div class="glass-card" data-speed="2">
      <div class="badge" data-key="badge-available">Připraven k realizaci</div>
      <h1 data-key="h1-home">Digitální vize,<br>které mění trh.</h1>
      <p data-key="p-home">Strategický design a precizní inženýrství. Tvořím digitální ekosystémy pro vaše podnikání.</p>
      <div class="counter" aria-hidden="true">01</div>
    </div>
  </section>

  <section class="section" id="about">
    <div class="glass-card" data-speed="1.5">
      <div class="badge" data-key="badge-offer">Expertíza</div>
      <h2 data-key="h1-about">Estetika & <br>Výkon.</h2>
      <p data-key="p-about">Komplexní řešení od vizuální identity po robustní backend. Architektura zaměřená na prožitek.</p>
      <div class="counter" style="bottom: 20px;" aria-hidden="true">02</div>
    </div>
  </section>

  <section class="section" id="projects">
    <div class="glass-card" data-speed="2.5">
      <div class="badge" data-key="badge-work">Vybrané práce</div>
      <h2 data-key="h1-projects">Excelence v <br>každém detailu.</h2>
      <p data-key="p-projects">Prohlédněte si výběr projektů, kde se snoubí inovace s funkčností.</p>

      <a href="#" class="cta-button" id="openPortfolioBtn" data-key="btn-projects">Zobrazit portfolio</a>

      <div class="counter" aria-hidden="true">03</div>
    </div>
  </section>

  <section class="section" id="contact">
    <div class="glass-card" data-speed="2">
      <div class="badge" data-key="nav-contact">Kontakt</div>
      <h2 data-key="h1-contact">Zahajte svou <br>transformaci.</h2>
      <p data-key="p-contact">Spojme se a vytvořme společně digitální produkt světové úrovně.</p>
      <a href="mailto:frantisek.sestak@tutamail.com" class="cta-button" data-key="btn-email">Sjednat konzultaci</a>
      <div class="counter" aria-hidden="true">04</div>
    </div>
  </section>
</main>

<div id="portfolio-layer">
  <div class="portfolio-header">
    <h2 data-key="h2-portfolio">Kompletní Portfolio</h2>
    <a href="https://github.com/Fandasestak" target="_blank" class="github-btn" aria-label="GitHub Profil">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.419-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
      </svg>
    </a>
  </div>

  <div class="portfolio-grid">
    <div class="project-item">
      <div class="project-img">
        <img src="projekt1.png" alt="moje firma" loading="lazy">
      </div>
      <div class="project-title" data-key="proj-1-title">Holdingová společnost</div>
      <p class="project-desc" data-key="proj-1-desc">Korporátní identita, webová prezentace a vizuální systém.</p>
      <a class="project-link" href="https://sesty.dev">https://sesty.dev</a>
    </div>
    <div class="project-item placeholder">
      <div class="placeholder-content">
        <div class="placeholder-visual">
          <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
        </div>
        <div class="placeholder-text">
          <h3 data-key="placeholder-title">Tvé portfolio?</h3>
          <p data-key="placeholder-desc">Zde může být tvůj e-shop nebo osobní prezentace.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const translations = {
    cz: {
      "brand-tagline": "Design & Vývoj", "nav-services": "Služby", "nav-work": "Portfolio", "nav-contact": "Kontakt",
      "badge-available": "Připraven k realizaci", "h1-home": "Digitální vize,<br>které mění trh.", "p-home": "Strategický design a precizní inženýrství. Tvořím digitální ekosystémy pro vaše podnikání.",
      "badge-offer": "Expertíza", "h1-about": "Estetika & <br>Výkon.", "p-about": "Komplexní řešení od vizuální identity po robustní backend. Architektura zaměřená na prožitek.",
      "badge-work": "Vybrané práce", "h1-projects": "Excelence v <br>každém detailu.", "p-projects": "Prohlédněte si výběr projektů, kde se snoubí inovace s funkčností.", "btn-projects": "Zobrazit portfolio",
      "h1-contact": "Zahajte svou <br>transformaci.", "p-contact": "Spojme se a vytvořme společně digitální produkt světové úrovně.", "btn-email": "Domluvte si konzultaci",
      "h2-portfolio": "Kompletní Portfolio", "btn-back": "Vrátit zpět",
      "proj-1-title": "Holdingová společnost",
      "proj-1-desc": "Korporátní identita, webová prezentace a vizuální systém.",
      "placeholder-title": "Tvé portfolio?",
      "placeholder-desc": "Zde může být tvůj e-shop nebo osobní prezentace."
    },
    en: {
      "brand-tagline": "Design & Dev", "nav-services": "Services", "nav-work": "Work", "nav-contact": "Contact",
      "badge-available": "Ready for work", "h1-home": "Digital visions<br>shaping markets.", "p-home": "Strategic design and precision engineering. I build digital ecosystems for your business.",
      "badge-offer": "Expertise", "h1-about": "Aesthetics & <br>Performance.", "p-about": "Comprehensive solutions from visual identity to robust backend. Architecture focused on experience.",
      "badge-work": "Selected work", "h1-projects": "Excellence in <br>every detail.", "p-projects": "Explore a selection of projects, where innovation meets functionality.", "btn-projects": "View portfolio",
      "h1-contact": "Start your <br>transformation.", "p-contact": "Let's connect and create a world-class digital product together.", "btn-email": "Arrange a consultation",
      "h2-portfolio": "Full Portfolio", "btn-back": "Go Back",
      "proj-1-title": "Holding Company",
      "proj-1-desc": "Corporate identity, web presentation, and visual system.",
      "placeholder-title": "Your Portfolio?",
      "placeholder-desc": "Your e-shop or personal presentation could be here."
    }
  };

  const scroller = document.getElementById("scroller");
  const progressBar = document.getElementById("progressBar");
  const verticalProgressBar = document.getElementById("verticalProgressBar");
  const scene = document.getElementById('scene');
  const cards = document.querySelectorAll('.glass-card');
  const openPortfolioBtn = document.getElementById('openPortfolioBtn');
  const backBtn = document.getElementById('backBtn');
  const portfolioLayer = document.getElementById('portfolio-layer');

  function setLang(lang) {
    document.querySelectorAll('[data-key]').forEach(el => {
      const key = el.getAttribute('data-key');
      if(translations[lang][key]) el.innerHTML = translations[lang][key];
    });
    const btns = document.querySelectorAll('.lang-btn');
    btns.forEach(btn => btn.classList.toggle('active', btn.id === `btn-${lang}`));
    localStorage.setItem('sesty_lang', lang);
  }

  let isThrottled = false;
  function scrollSlide(dir) {
    if (isThrottled) return;
    isThrottled = true;
    const step = scroller.clientWidth;
    const target = Math.max(0, Math.min(Math.round(scroller.scrollLeft / step) + dir, 3));
    scroller.scrollTo({ left: target * step, behavior: 'smooth' });
    setTimeout(() => isThrottled = false, 800);
  }

  scroller.onwheel = (e) => {
    if(window.innerWidth > 768 && !document.body.classList.contains('portfolio-open')) {
      e.preventDefault();
      if(Math.abs(e.deltaY) > 18) scrollSlide(e.deltaY > 0 ? 1 : -1);
    }
  };

  scroller.onscroll = () => {
    const max = scroller.scrollWidth - scroller.clientWidth;
    const p = max > 0 ? (scroller.scrollLeft / max) * 75 + 25 : 25;
    progressBar.style.width = `${p}%`;
  };

  openPortfolioBtn.addEventListener('click', (e) => {
    e.preventDefault();
    document.body.classList.add('portfolio-open');
    portfolioLayer.scrollTop = 0;
  });

  backBtn.addEventListener('click', () => {
    document.body.classList.remove('portfolio-open');
  });

  portfolioLayer.addEventListener('scroll', () => {
    const scrollTop = portfolioLayer.scrollTop;
    const scrollHeight = portfolioLayer.scrollHeight - portfolioLayer.clientHeight;
    const scrollPercent = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
    verticalProgressBar.style.height = `${scrollPercent}%`;
  });

  let mx = 0, my = 0;
  window.addEventListener('mousemove', (e) => {
    if(window.innerWidth > 768) {
      mx = (e.clientX / window.innerWidth - 0.5);
      my = (e.clientY / window.innerHeight - 0.5);
    }
  });

  function animate() {
    if(window.innerWidth > 768) {
      scene.style.transform = `rotateY(${mx * 10}deg) rotateX(${-my * 10}deg)`;
      cards.forEach(card => {
        const speed = card.dataset.speed || 1;
        card.style.transform = `translate3d(${mx * 45 * speed}px, ${my * 45 * speed}px, 80px) rotateY(${-mx * 5}deg) rotateX(${my * 5}deg)`;
      });
    }
    requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);

  const menuToggle = document.getElementById('menuToggle');
  const navMenu = document.getElementById('navMenu');

  menuToggle.onclick = () => {
    const isOpen = menuToggle.classList.toggle('open');
    navMenu.classList.toggle('open');
    menuToggle.setAttribute('aria-expanded', isOpen);
  };

  document.querySelectorAll('nav a').forEach(link => {
    link.addEventListener('click', () => {
      menuToggle.classList.remove('open');
      navMenu.classList.remove('open');
      document.body.classList.remove('portfolio-open');
    });
  });

  window.onload = () => {
    setLang(localStorage.getItem('sesty_lang') || 'cz');
  };
</script>
</body>
</html>
